{"name":"CDTIncrementalStore","tagline":"CDTIncrementalStore allows Core Data Frameworks to target CDTDatastore","body":"# CDTIncrementalStore\r\n\r\n[![Version](http://cocoapod-badges.herokuapp.com/v/CDTIncrementalStore/badge.png)](http://cocoadocs.org/docsets/CDTIncrementalStore)\r\n[![Platform](http://cocoapod-badges.herokuapp.com/p/CDTIncrementalStore/badge.png)](http://cocoadocs.org/docsets/CDTIncrementalStore)\r\n[![Build Status](https://travis-ci.org/jimix/CDTIncrementalStore.png?branch=master)](https://travis-ci.org/jimix/CDTIncremetalStore)\r\n\r\n\r\n**An application can use `CDTIncrementalStore` to target\r\n[Cloudant Sync] as a [persistent store] for a [Core Data] application.**\r\n\r\n> ***Warning***: This document assumes you are familiar with [Core Data].\r\n\r\nFrom the [Apple documents][core data]:\r\n>  The Core Data framework provides generalized and automated\r\n>  solutions to common tasks associated with object life-cycle and\r\n>  object graph management, including persistence.\r\n\r\nIt is this *\"persistence\"*, which is provided by the\r\n[Persistent Store], that we wish to add `CDTDatastore` as a backing\r\nstore. The [Incremental Store] provides the hooks necessary to do\r\nthis.\r\n\r\nThankfully, the user does not need to know these details to exploit\r\n`CDTIncrementalStore` from an application that uses [Core Data].\r\n\r\n## Getting started\r\n\r\n`CDTIncrementalStore` is available through [CocoaPods], to install it\r\nadd the following line to your `Podfile`:\r\n\r\n```ruby\r\npod \"CDTIncrementalStore\"\r\n```\r\n\r\n### Using in a Swift app\r\n\r\n`CDTIncremetalStore` uses `CDTDatastore` and both are usable from\r\nSwift out of the box with a few small quirks. Install as per the\r\ninstructions above, and import `CDTIncrementalStore.h` into your\r\n[bridging header].\r\n\r\n> ***Note***: There may be additional Swift considerations when using\r\n> the CDTDatastore directly, please see [cloudant sync] documentation.\r\n\r\n## Core Data\r\n\r\nIf your application is not already using Core Data, see the\r\n[Core Data] documentation for the proper setup for a persistent store.\r\nThis generally involves the initialization of a persistent store\r\ncoordinator followed by a request to add a persistent store of a\r\nspecific type to the persistent store coordinator.\r\n\r\nThis setup is commonly done in the application delegate, but could be\r\ndone elsewhere.  The common persistent store implementation is the\r\n`NSSQLiteStoreType`, which uses [SQLite] for persistent storage.  To use\r\n`CDTDatastore` for [Core Data] persistent storage, specify\r\n`[CDTIncrementalStore type]` as the persistent store type, as follows:\r\n\r\n```objc\r\n#import <CDTIncrementalStore.h>\r\n\r\nNSURL *storeURL = [docsDir URLByAppendingPathComponent:@\"mystore\"];\r\nNSString *myType = [CDTIncrementalStore type];\r\nNSPersistentStoreCoordinator *psc = ...\r\n[psc addPersistentStoreWithType:myType\r\n                  configuration:nil\r\n                            URL:storeURL\r\n                        options:nil\r\n                          error:&error])];\r\n```\r\n\r\nCDTIncrementalStore will use the last component of the storeURL as the\r\nname of the database.  This name must follow the Cloudant conventions,\r\nincluding containing only lowercase alpha, numeric, and underscore\r\ncharacters.  Do not specify a suffix, e.g. `\".sqlite\"`, as this is\r\nalso not allowed.  If the storeURL has a host component, then it is\r\nalso used as the remote database target of push, pull and sync\r\noperations.\r\n\r\n> ***Note***: the remote database details can be defined later in your code.\r\n\r\nAt this point you can use [Core Data] normally and your changes will\r\nbe saved in the local `CDTDatastore` image.\r\n\r\n\r\n## Supported Features\r\n\r\nThe [Cloudant Sync] persistent store for [Core Data] supports the following features:\r\n\r\n- Save, fetch, update, and delete of Managed Objects to the on-device CDTDatastore.\r\n- Batch update requests\r\n- Asynchronous fetch operations\r\n- Schema migration\r\n\r\n## Unsupported Features\r\n\r\nThe following features of [Core Data] are currently not supported by\r\nthe `CDTIncrementalStore`:\r\n\r\n* Predicates on string attributes using BEGINSWITH, ENDSWITH, LIKE, or MATCHES\r\n* Compound predicates using the NOT operator\r\n* Predicates on relationship attributes.\r\n\r\n## Example Application\r\n\r\nThere is an example application based on\r\n[Apple's iPhoneCoreDataRecipes][recipe] and can be found in this\r\n[git tree][gitrecipe].\r\n\r\n## Other Documents\r\nThese can be found in the [docs](docs) directory.\r\n\r\n1. [Replication](docs/replication.md)\r\n1. [Portability](docs/portability.md)\r\n1. [Internals](docs/internals.md)\r\n\r\n<!-- refs -->\r\n\r\n[cloudant sync]: https://github.com/cloudant/CDTDatastore \"Cloudant Sync iOS datastore library\"\r\n\r\n[cocoapods]: http://cocoapods.org \"Cocoa Pods\"\r\n\r\n[bridging header]: https://developer.apple.com/library/ios/documentation/swift/conceptual/buildingcocoaapps/MixandMatch.html \"Bridging Headers\"\r\n\r\n[core data]: https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CoreData/cdProgrammingGuide.html \"Introduction to Core Data Programming Guide\"\r\n\r\n[persistent store]: https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CoreData/Articles/cdPersistentStores.html \"Persistent Store Features\"\r\n\r\n[incremental store]: https://developer.apple.com/library/mac/documentation/DataManagement/Conceptual/IncrementalStorePG/Introduction/Introduction.html \"About Incremental Stores\"\r\n\r\n[recipe]: https://developer.apple.com/library/ios/samplecode/iPhoneCoreDataRecipes/Introduction/Intro.html \"iPhoneCoreDataRecipes\"\r\n\r\n[gitrecipe]: http://github.com/jimix/iphonecoredatarecipes \"Git Tree of iPhoneCoreDataRecipes\"\r\n\r\n\r\n<!--  LocalWords:  CDTIncrementalStore Cloudant CDTDatastore Podfile\r\n -->\r\n<!--  LocalWords:  CocoaPods CDTQueryResult SequenceType func SQLite\r\n -->\r\n<!--  LocalWords:  NSFastGenerator NSSQLiteStoreType objc NSURL psc\r\n -->\r\n<!--  LocalWords:  storeURL docsDir URLByAppendingPathComponent iOS\r\n -->\r\n<!--  LocalWords:  mystore NSString myType addPersistentStoreWithType\r\n -->\r\n<!--  LocalWords:  NSPersistentStoreCoordinator cloudant sqlite\r\n -->\r\n<!--  LocalWords:  BEGINSWITH ENDSWITH iPhoneCoreDataRecipes\r\n -->\r\n<!--  LocalWords:  gitrecipe datastore cocoapods\r\n -->\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}